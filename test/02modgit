#!/usr/bin/env rspec
# -*- mode: ruby -*-

require 'fileutils'
require 'puppet/marshall/mod'
require 'puppet/marshall/settings'
require 'git_spec_helper'

describe Puppet::Marshall::Mod do

    before(:all) do
        $cfg = Puppet::Marshall::Settings.new({:repository => "wrk"})
    end

    context "when initializing" do
        it "returns the style of 'git' when specifying 'git'" do
            m = Puppet::Marshall::Mod.new($cfg, :style => 'git')
            m.style.should eq 'git'
        end

        it "returns the style of 'git' when specifying 'git' in opt hash" do
            m = Puppet::Marshall::Mod.new($cfg, { :style => 'git' })
            m.style.should eq 'git'
        end

    end

    context "when updating" do

    end

end
